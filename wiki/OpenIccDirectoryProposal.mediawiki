{| style="width:100%;text-align:left"
|+
! style="background:#efefef;text-align:left" colspan="4" | Revision History
|-
| Revision 0.1
| 2007-09-17 
| Kai-Uwe Behrmann
| A write down of [[OpenICC]] email discussions.
|-
|-
| Revision 0.1.1
| 2007-09-27 
| Kai-Uwe Behrmann
| hint at xdg about ~/.config and XDG variables
|-
| Revision 0.1.2
| 2007-10-17
| Kai-Uwe Behrmann
| hint from bug#77 freestandards.org
|-
| Revision 0.1.3
| 2007-10-17
| Stanislav Brabec
| clear about XDG variable scope
|-
| Revision 0.1.4
| 2007-11-14
| Kai-Uwe Behrmann
| slightly modified formulations
|-
| Revision 0.1.5
| 2007-12-19
| Kai-Uwe Behrmann
| coexisting XDG and CMS paths, add XDG_CONFIG_PATH, Installation
|-
|}



<H1>OpenICC Directory Proposal</H1>

ICC profiles and characterisation data, settings and registration files need a proper place in the directory hierarchy. This proposal describes common practise and new suggestions.

Each directory contains a substructure to hold different data. The naming should provide a hint what it contains.


== Scope ==
The proposal is primarily suggested for Unix alike systems, such as the BSD's and Linux.

Systems like osX and Solaris will probably provide different places or means to register ICC profiles and settings. A programming interface, like the path API's in Oyranos, should cover these specific cases.

== General OpenICC Paths ==
A top Users colour path should be located in:

'''''$XDG_CONFIG_HOME/color'''''
and

'''''$HOME/.config/color'''''
for a top directory to store human readable configuration files in its subdirectories.


'''''$XDG_DATA_HOME/color'''''
and

'''''$HOME/.local/share/color'''''
shall be used as a top directory to store data files in it's subdirectories like ICC profiles.

For the XDG* variables see [1].

$HOME/.color can be considered deprecated and should fade out.



As system wide installation paths exist the '''''XDG_DATA_DIRS''''' and '''''XDG_CONFIG_DIRS''''' variables, which itself can contain several directory entries:

'''''$XDG_DATA_DIRS'''''[0]'''''/color''''', '''''$XDG_DATA_DIRS'''''[1]'''''/color''''' and so on, plus

two system paths, due to different system directory layouts, exist and should always be searched for:

'''''/usr/local/share/color'''''

and

'''''/usr/share/color''''' as typical for Linux packages.

These above paths are considered top level entry points and should contain almost no files.
Each specific data path, containing the actual data, is each located below these general OpenICC paths.

Typical colour configuration data is architecture independent. The configuration can therefore stay in one place as further described below.
Architecture dependent CMM modules and utilities should reside below the usual system paths for libraries and binary executables. They are here not described in detail.

== Colour Profile Paths ==
The colour management systems should provide various locations for storing common place colour profiles.
The directory name is

'''''icc'''''/

The directory expands then for instance to /usr/share/color/icc.
The icc subdirectory should be scanned recursively, to allow some future features.

=== Subdirectory naming rules ===
Profiles can be grouped by different purposes. Therefor some directory names are reserved for future expansion. They are mentioned below:

'editing' 'device' 'camera' 'scanner' 'monitor' 'printer' 'output' 'input' 'abstract' 'named_color_list' 'colorspace' 'file' 'standard'

The above names are not yet in use. So don't rely on them, just avoid using. They can be activated easily after further discussion at the OpenICC email list.

Finally a scheme like:
 /usr/share/color/icc
    vendor/
        rgb/
            vendor_rgb.icc
        cmyk/
            vendor_fogra27.icc
            vendor_fogra28.icc
            ...
would make complete sense.

== Settings ==
Settings may contain presets of single settings.
The location is at:

'''''settings'''''/

Binary blobs should be preferedly go the _DATA_ and clear text ones the _CONFIG_ route.

== CMMs ==
CMM's register files can be stored in:

'''''cmms'''''/

Binary blobs should be preferedly go the _DATA_ and clear text ones the _CONFIG_ route.

== Installation ==
It is recommended to ask for the XDG variables befor installing globaly visible data on a system. 

In contrary to create packages with static file locations, like RPM, use the provided static paths only.

For ICC profiles this would be:
: ''/usr/local/share/color/icc''
: ''/usr/share/color/icc''
: ''~/.local/share/icc''


== Technical implementation ==
The profile paths exist on system level in the file hierarchy.

For the XDG variables see [1].

=== Linking ===
Linking is allowed, as long as the system supports this, only inside the a OpenICC top entry path. So it is allowed to set a link from a special profile file name to a more general one. 
  XYZ.icc => VENDOR/Vendor_XYZ.icc
It's not required and not recommended that a file outside a single top OpenICC path can be reached.
  !XYZ.icc => /etc/XYZ.icc! or
  !/usr/local/share/color/icc/XYZ.icc => ../../../../share/color/icc/XYZ.icc!

== Acknowledgments ==
The presented concepts where discussed on the OpenICC email list at fd.o, or reached this document by a bug entry comment [2].

== References ==
[1] [http://standards.freedesktop.org/freedesktop-platform-specs/1.0/basedir-spec-0.6/ar01s03.html XDG Environment variables specification]

[2] [http://bugs.freestandards.org/show_bug.cgi?id=77 freestandards.org bug #77]



[[Category:Concepts]]
[[Category:Oyranos]]